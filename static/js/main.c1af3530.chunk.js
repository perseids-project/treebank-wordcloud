(this["webpackJsonptreebank-wordcloud"]=this["webpackJsonptreebank-wordcloud"]||[]).push([[0],{41:function(e,t,a){e.exports=a(61)},48:function(e,t,a){},60:function(e,t){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),l=(a(46),a(47),a(48),a(20)),i=a(7),s=a(1),u=a(13),m=a(14),d=a(5),p=a(15),h=a(16),b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={url:"https://perseids-publications.github.io/harrington-trees/xml/CITE_TREEBANK_XML/perseus/lattb/4362/lattb.4362.1.tb.xml"},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({url:t})}},{key:"render",value:function(){var e=this.state.url,t=encodeURIComponent(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{className:"row pt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Word Cloud from Treebank"),r.a.createElement("h6",null,"Enter the URL for a treebank XML document:")))),r.a.createElement("div",{className:"row pt-2"},r.a.createElement("div",{className:"col col-lg-10 offset-lg-1"},r.a.createElement("div",{className:"input-group input-group-lg pb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"url-input-group"},"URL:")),r.a.createElement("input",{className:"form-control",type:"text",value:e,onChange:this.handleChange,placeholder:"Enter URL ...","aria-label":"URL","aria-describedby":"url-input-group"})),r.a.createElement(i.b,{className:"btn btn-block btn-primary",to:"/".concat(t)},"Create word cloud"))))}}]),a}(n.Component),v=a(31),E=a.n(v),g={"\u03b1\u1f50\u03c4\u1f78\u03c2":!0,"\u03b1\u1f50\u03c4\u03cc\u03c2":!0,"\u03b3\u03b5":!0,"\u03b3\u1f70\u03c1":!0,"\u03b3\u03ac\u03c1":!0,"\u03b4'":!0,"\u03b4\u03b1\u1f76":!0,"\u03b4\u03b1\u1f76\u03c2":!0,"\u03b4\u03b1\u03af":!0,"\u03b4\u03b1\u03af\u03c2":!0,"\u03b4\u03b9\u1f70":!0,"\u03b4\u03b9\u03ac":!0,"\u03b4\u1f72":!0,"\u03b4\u03ad":!0,"\u03b4\u1f74":!0,"\u03b4\u03ae":!0,"\u03b5\u1f30":!0,"\u03b5\u1f30\u03bc\u1f76":!0,"\u03b5\u1f30\u03bc\u03af":!0,"\u03b5\u1f30\u03c2":!0,"\u03b5\u1f34\u03bc\u03b9":!0,"\u03ba\u03b1\u03c4\u1f70":!0,"\u03ba\u03b1\u03c4\u03ac":!0,"\u03ba\u03b1\u1f76":!0,"\u03ba\u03b1\u03af":!0,"\u03bc\u03b5\u03c4\u1f70":!0,"\u03bc\u03b5\u03c4\u03ac":!0,"\u03bc\u1f72\u03bd":!0,"\u03bc\u03ad\u03bd":!0,"\u03bc\u1f74":!0,"\u03bc\u03ae":!0,"\u03bf\u1f31":!0,"\u03bf\u1f50":!0,"\u03bf\u1f50\u03b4\u03b5\u1f76\u03c2":!0,"\u03bf\u1f50\u03b4\u03b5\u03af\u03c2":!0,"\u03bf\u1f50\u03b4\u1f72":!0,"\u03bf\u1f50\u03b4\u03ad":!0,"\u03bf\u1f50\u03ba":!0,"\u03bf\u1f54\u03c4\u03b5":!0,"\u03bf\u1f55\u03c4\u03c9\u03c2":!0,"\u03bf\u1f56\u03bd":!0,"\u03bf\u1f57\u03c4\u03bf\u03c2":!0,"\u03c0\u03b1\u03c1\u1f70":!0,"\u03c0\u03b1\u03c1\u03ac":!0,"\u03c0\u03b5\u03c1\u1f76":!0,"\u03c0\u03b5\u03c1\u03af":!0,"\u03c0\u03c1\u1f78\u03c2":!0,"\u03c0\u03c1\u03cc\u03c2":!0,"\u03c3\u1f78\u03c2":!0,"\u03c3\u03cc\u03c2":!0,"\u03c3\u1f7a":!0,"\u03c3\u03cd":!0,"\u03c3\u03cd\u03bd":!0,"\u03c4\u03b5":!0,"\u03c4\u03b9":!0,"\u03c4\u03b9\u03c2":!0,"\u03c4\u03bf\u03b9\u03bf\u1fe6\u03c4\u03bf\u03c2":!0,"\u03c4\u03bf\u1f76":!0,"\u03c4\u03bf\u03af":!0,"\u03c4\u03bf\u1f7a\u03c2":!0,"\u03c4\u03bf\u03cd\u03c2":!0,"\u03c4\u03bf\u1fe6":!0,"\u03c4\u1f70":!0,"\u03c4\u03ac":!0,"\u03c4\u1f74\u03bd":!0,"\u03c4\u03ae\u03bd":!0,"\u03c4\u1f76":!0,"\u03c4\u1f76\u03c2":!0,"\u03c4\u03af":!0,"\u03c4\u03af\u03c2":!0,"\u03c4\u1f78":!0,"\u03c4\u1f78\u03bd":!0,"\u03c4\u03cc":!0,"\u03c4\u03cc\u03bd":!0,"\u03c4\u1fc6\u03c2":!0,"\u03c4\u1fc7":!0,"\u03c4\u1ff6\u03bd":!0,"\u03c4\u1ff7":!0,"\u1f00\u03bb\u03bb'":!0,"\u1f00\u03bb\u03bb\u1f70":!0,"\u1f00\u03bb\u03bb\u03ac":!0,"\u1f00\u03c0\u1f78":!0,"\u1f00\u03c0\u03cc":!0,"\u1f02\u03bd":!0,"\u1f04\u03bb\u03bb\u03bf\u03c2":!0,"\u1f04\u03bd":!0,"\u1f04\u03c1\u03b1":!0,"\u1f10\u03b3\u1f7c":!0,"\u1f10\u03b3\u03ce":!0,"\u1f10\u03ba":!0,"\u1f10\u03be":!0,"\u1f10\u03bc\u1f78\u03c2":!0,"\u1f10\u03bc\u03cc\u03c2":!0,"\u1f10\u03bd":!0,"\u1f10\u03c0\u1f76":!0,"\u1f10\u03c0\u03af":!0,"\u1f10\u1f70\u03bd":!0,"\u1f10\u03ac\u03bd":!0,"\u1f11\u03b1\u03c5\u03c4\u03bf\u1fe6":!0,"\u1f14\u03c4\u03b9":!0,"\u1f21":!0,"\u1f22":!0,"\u1f24":!0,"\u1f41":!0,"\u1f43\u03b4\u03b5":!0,"\u1f43\u03c2":!0,"\u1f45\u03b4\u03b5":!0,"\u1f45\u03c2":!0,"\u1f45\u03c3\u03c4\u03b9\u03c2":!0,"\u1f45\u03c4\u03b9":!0,"\u1f51\u03bc\u1f78\u03c2":!0,"\u1f51\u03bc\u03cc\u03c2":!0,"\u1f51\u03c0\u1f72\u03c1":!0,"\u1f51\u03c0\u03ad\u03c1":!0,"\u1f51\u03c0\u1f78":!0,"\u1f51\u03c0\u03cc":!0,"\u1f61\u03c2":!0,"\u1f65\u03c3\u03c4\u03b5":!0,"\u1f66":!0,"\u03be\u03cd\u03bd":!0,"\u03be\u1f7a\u03bd":!0,"\u03c3\u1f7a\u03bd":!0,"\u03c4\u03bf\u1fd6\u03c2":!0,"\u03c4\u1fb6\u03c2":!0,ab:!0,ac:!0,ad:!0,adhic:!0,aliqui:!0,aliquis:!0,an:!0,ante:!0,apud:!0,at:!0,atque:!0,aut:!0,autem:!0,cum:!0,cur:!0,de:!0,deinde:!0,dum:!0,ego:!0,enim:!0,ergo:!0,es:!0,est:!0,et:!0,etiam:!0,etsi:!0,ex:!0,fio:!0,haud:!0,hic:!0,iam:!0,idem:!0,igitur:!0,ille:!0,in:!0,infra:!0,inter:!0,interim:!0,ipse:!0,is:!0,ita:!0,magis:!0,modo:!0,mox:!0,nam:!0,ne:!0,nec:!0,necque:!0,neque:!0,nisi:!0,non:!0,nos:!0,o:!0,ob:!0,per:!0,possum:!0,post:!0,pro:!0,quae:!0,quam:!0,quare:!0,qui:!0,quia:!0,quicumque:!0,quidem:!0,quilibet:!0,quis:!0,quisnam:!0,quisquam:!0,quisque:!0,quisquis:!0,quo:!0,quoniam:!0,sed:!0,si:!0,sic:!0,sive:!0,sub:!0,sui:!0,sum:!0,super:!0,suus:!0,tam:!0,tamen:!0,trans:!0,tu:!0,tum:!0,ubi:!0,uel:!0,uero:!0,unus:!0,ut:!0,punc:!0,"-que":!0,jam:!0},f=a(38),w={colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b"],enableTooltip:!0,deterministic:!0,fontFamily:"tinos",fontSizes:[20,80],fontStyle:"normal",fontWeight:"bold",padding:1,rotations:2,rotationAngles:[-90,0],scale:"linear",spiral:"rectangular",transitionDuration:0},N=function(e){var t=[];return Object.keys(e).forEach((function(a){var n=e[a];t.push({text:a,value:n})})),t},k=function(e){var t=e.words;return r.a.createElement(f.a,{words:N(t),options:w})},q=function(e,t){return 0!==Object.keys(e.words).length&&t.push(e),t},y=function(e,t){var a=e.words;return function(e){return!!g[e]}(t)||(t in a?a[t]+=1:a[t]=1),e},x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,subDocs:[],showDropdown:!1},n.url=n.url.bind(Object(d.a)(n)),n.index=n.index.bind(Object(d.a)(n)),n.toggleDropdown=n.toggleDropdown.bind(Object(d.a)(n)),n.renderWordCloud=n.renderWordCloud.bind(Object(d.a)(n)),n.renderNavigation=n.renderNavigation.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E()(this.url()).then((function(e){return e.text()})).then((function(e){return function(e){var t=[],a=e.match(/(subdoc=["'].*?["'])|(lemma=["'].*?["'])/g);if(0===a.length)throw new Error("Could not parse XML");var n="Initial",r={name:n,words:{}};return a.forEach((function(e){/^subdoc/.test(e)&&(n=e.match(/subdoc=["'](.*?)["']/)[1])!==r.name&&(q(r,t),r={name:n,words:{}}),/^lemma/.test(e)&&y(r,e.match(/lemma=["'](.*?)\d*["']/)[1])})),q(r,t),t}(e.normalize("NFC"))})).then((function(t){e.setState({isLoaded:!0,subDocs:t})})).catch((function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"url",value:function(){var e=this.props.match.params.url;return decodeURIComponent(e)}},{key:"index",value:function(){var e=this.props.match.params.index,t=void 0===e?"0":e;return parseInt(t,10)}},{key:"toggleDropdown",value:function(){this.setState((function(e){return{showDropdown:!e.showDropdown}}))}},{key:"renderNavigation",value:function(){var e=this.props.match.params.url,t=this.state,a=t.subDocs,n=t.showDropdown,o=this.index(),c=a[o].name,l=a.map((function(e,t){}));return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 col-md-2 offset-md-2"},o>0&&r.a.createElement(i.b,{to:"/".concat(e,"/").concat(o-1),className:"btn btn-block btn-secondary"},"\xab")),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{type:"button",className:"btn btn-block btn-secondary dropdown-toggle","data-toggle":"dropdown",onClick:this.toggleDropdown},c,r.a.createElement("i",{className:"fa fa-caret-down"})),r.a.createElement("div",{className:"dropdown-menu ".concat(n?"show":""),style:{maxHeight:"400px",overflow:"scroll",width:"100%"}},l))),r.a.createElement("div",{className:"col-4 col-md-2"},o<a.length-1&&r.a.createElement(i.b,{to:"/".concat(e,"/").concat(o+1),className:"btn btn-block btn-secondary"},"\xbb")))}},{key:"renderWordCloud",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.subDocs,o=this.index();return t?r.a.createElement("div",null,"Error:"," ",t.message):a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},this.renderNavigation())),r.a.createElement("div",{className:"row pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{style:{minHeight:"500px"}},r.a.createElement(k,{words:n[o].words}))))):r.a.createElement("div",null,"Loading...")}},{key:"render",value:function(){var e=this.url();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{className:"row pt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Wordcloud from Treebank"),r.a.createElement("h6",null,r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))))),r.a.createElement("div",{className:"row pt-2"},r.a.createElement("div",{className:"col"},this.renderWordCloud())))}}]),a}(n.Component),C=function(){return r.a.createElement(i.a,{basename:"/treebank-wordcloud"},r.a.createElement(l.PerseidsHeader,null,"Treebank Word Cloud",r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{className:"nav-link",exact:!0,to:"/"},"Home")))),r.a.createElement("main",{role:"main"},r.a.createElement("div",{className:"container text-center"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:b}),r.a.createElement(s.a,{path:"/:url/:index?",component:x})))),r.a.createElement(l.PerseidsFooter,{github:"https://github.com/perseids-project/treebank-wordcloud",report:"https://github.com/perseids-project/treebank-wordcloud/issues"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.c1af3530.chunk.js.map